{
   "apiVersion": "v1",
   "items": [
      {
         "apiVersion": "v1",
         "kind": "ServiceAccount",
         "metadata": {
            "name": "elasticsearch-serviceaccount",
            "namespace": "elasticsearch"
         }
      },
      {
         "apiVersion": "rbac.authorization.k8s.io/v1beta1",
         "kind": "ClusterRole",
         "metadata": {
            "name": "elasticsearch-serviceaccount",
            "namespace": "elasticsearch"
         },
         "rules": [
            {
               "apiGroups": [
                  "*"
               ],
               "resources": [
                  "namespaces",
                  "services",
                  "endpoints"
               ],
               "verbs": [
                  "get"
               ]
            }
         ]
      },
      {
         "apiVersion": "rbac.authorization.k8s.io/v1beta1",
         "kind": "ClusterRoleBinding",
         "metadata": {
            "name": "elasticsearch-serviceaccount",
            "namespace": "elasticsearch"
         },
         "roleRef": {
            "apiGroup": "rbac.authorization.k8s.io",
            "kind": "ClusterRole",
            "name": "elasticsearch-serviceaccount"
         },
         "subjects": [
            {
               "kind": "ServiceAccount",
               "name": "elasticsearch-serviceaccount",
               "namespace": "elasticsearch"
            }
         ]
      },
      {
         "apiVersion": "v1",
         "kind": "Service",
         "metadata": {
            "labels": {
               "addonmanager.kubernetes.io/mode": "Reconcile",
               "k8s-app": "elasticsearch-logging",
               "kubernetes.io/cluster-service": "true",
               "kubernetes.io/name": "Elasticsearch"
            },
            "name": "elasticsearch-logging",
            "namespace": "elasticsearch"
         },
         "spec": {
            "ports": [
               {
                  "port": 9200,
                  "protocol": "TCP",
                  "targetPort": "db"
               }
            ],
            "selector": {
               "k8s-app": "elasticsearch-logging"
            },
            "type": "LoadBalancer"
         }
      },
      {
         "apiVersion": "v1",
         "kind": "ReplicationController",
         "metadata": {
            "labels": {
               "addonmanager.kubernetes.io/mode": "Reconcile",
               "k8s-app": "elasticsearch-logging",
               "kubernetes.io/cluster-service": "true",
               "version": "v1"
            },
            "name": "elasticsearch-logging-v1",
            "namespace": "elasticsearch"
         },
         "spec": {
            "replicas": 2,
            "selector": {
               "k8s-app": "elasticsearch-logging",
               "version": "v1"
            },
            "template": {
               "metadata": {
                  "labels": {
                     "k8s-app": "elasticsearch-logging",
                     "kubernetes.io/cluster-service": "true",
                     "version": "v1"
                  }
               },
               "spec": {
                  "containers": [
                     {
                        "env": [
                           {
                              "name": "NAMESPACE",
                              "valueFrom": {
                                 "fieldRef": {
                                    "fieldPath": "metadata.namespace"
                                 }
                              }
                           }
                        ],
                        "image": "gcr.io/google_containers/elasticsearch:v2.4.1-2",
                        "name": "elasticsearch-logging",
                        "ports": [
                           {
                              "containerPort": 9200,
                              "name": "db",
                              "protocol": "TCP"
                           },
                           {
                              "containerPort": 9300,
                              "name": "transport",
                              "protocol": "TCP"
                           }
                        ],
                        "resources": {
                           "limits": {
                              "cpu": "1000m"
                           },
                           "requests": {
                              "cpu": "100m"
                           }
                        },
                        "volumeMounts": [
                           {
                              "mountPath": "/data",
                              "name": "es-persistent-storage",
                              "readOnly": false
                           }
                        ]
                     }
                  ],
                  "serviceAccountName": "elasticsearch-serviceaccount",
                  "volumes": [
                     {
                        "emptyDir": { },
                        "name": "es-persistent-storage"
                     }
                  ]
               }
            }
         }
      },
      {
         "apiVersion": "v1",
         "kind": "Namespace",
         "metadata": {
            "labels": {
               "name": "elasticsearch"
            },
            "name": "elasticsearch"
         }
      }
   ],
   "kind": "List"
}
